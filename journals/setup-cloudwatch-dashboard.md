# Create a custom dashboard for the data generated by the EC2 instance

We will be creating a custom dashboard with default metrics provided for an EC2 instance (CPU utilization and CPU credit balance), custom metrics generated by the CloudWatch agent (`Memory % Committed Bytes in Use`), logs generated by IIS, and the current alarm status. We will be using the `Line`, `Number`, `Logs table`, and` Alarm` status widgets as a part of this custom dashboard

- Navigate to `CloudWatch` | `Dashboards`. Under `Custom dashboards`, click `Create dashboard`.

- Provide a name for the dashboard, such as `EC2_Dashboard`, then click on `Create dashboard`

- Select `Metrics` under `Data type` and choose the `Line` widget under `Widget type`. Then click `Next`.

- Under the `Browse` menu, go to `AWS namespaces` and select `EC2`, and then `Per-instance Metrics`. Next, select `CPU Utilization` for the windows instance created earlier and click `Create widget`. It should appear as in the following screenshot. Then, click the `+` icon to add more widgets.

![line-widget](/imgs/line-widget.png)

- Select `Metrics` under `Data type` and choose the `Number` widget under `Widget type`. Then click `Next`.

- Navigate to `Custom namespaces` under the `Browse` menu –> `CWAgent` –> `InstanceId` –> `Memory % Committed Bytes in Use` for the appropriate instance, then click on `Create widget`, and save the dashboard. 

![number-widget](/imgs/number-widget.png)

- Click the `+` icon to add more widgets.

- Under `Data type`, select `Logs` and under `Widget type`, choose `Logs table` and click `Next`.

- Under `Logs Insights`, select the `IISLogs` log group, edit the default query to show only *@timestamp* and *@message* fields and click `Create widget`

![create-logs-widget](/imgs/create-logs-widget.png)

![iislogs-widget](/imgs/iislogs-widget.png)

- Save the dashboard. Then click the `+` icon to add more widgets.

- Under `Data type`, select `Alarms` and under `Widget type`, choose `Alarm status` and click `Next`.

- Select all the alarms statuses and click `Create widget`.

- For `Widget name`, provide the name `Alarm Status` and click `Add to Dashboard`.

![add-alarm-status](/imgs/add-alarm-status.png)

- The end result of the custom dashboard, `EC2_Dashboard`, will look as follows:

![custom-dashboard](/imgs/custom-dashboard.png)

